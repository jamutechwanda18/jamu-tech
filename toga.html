<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daftar TOGA - JAMU-TECH</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body class="toga-page">

    <header>
        <nav class="container">
            <div class="logo">JAMU<span>TECH</span></div>
            <ul class="nav-links">
                <li><a href="index.html">Beranda</a></li>
                <li><a href="toga.html">Daftar TOGA</a></li>
            </ul>
            <div class="search-box">
                <input type="text" id="togaSearchInput" placeholder="Cari tanaman atau khasiat..." onkeyup="filterTanaman()" autocomplete="off">
            </div>
        </nav>
    </header>

    <main class="container">
        <section class="toga-list-section">
            <h1 style="text-align: center; color: white; margin: 30px 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">Daftar Tanaman Obat (TOGA)</h1>
            
            <div class="toga-grid" id="togaGrid">
                <div class="card" data-name="daun dewa peredaran darah memar">
                    <img src="gambar/daun-dewa.jpg" alt="Daun Dewa" class="toga-img">
                    <h3>Daun Dewa</h3>
                    <p>Membantu melancarkan peredaran darah dan mengobati luka memar.</p>
                    <a href="detail.html#toga1" class="btn">Detail Khasiat</a>
                </div>

                <div class="card" data-name="seledri darah tinggi hipertensi">
                    <img src="gambar/seledri.jpg" alt="Seledri" class="toga-img">
                    <h3>Seledri</h3>
                    <p>Bermanfaat untuk menurunkan tekanan darah tinggi (hipertensi).</p>
                    <a href="detail.html#toga2" class="btn">Detail Khasiat</a>
                </div>

                </div>
        </section>
    </main>

    <script>
        // SCRIPT UNTUK MENANGKAP PENCARIAN DARI INDEX ATAU QR
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const searchQuery = urlParams.get('search');
            
            if (searchQuery) {
                const searchBox = document.getElementById('togaSearchInput');
                searchBox.value = decodeURIComponent(searchQuery);
                filterTanaman(); 
            }
        };

        // FUNGSI FILTER
        function filterTanaman() {
            let input = document.getElementById('togaSearchInput').value.toLowerCase();
            let cards = document.getElementsByClassName('card');
            let found = false;

            for (let i = 0; i < cards.length; i++) {
                let name = cards[i].getAttribute('data-name').toLowerCase();
                if (name.includes(input)) {
                    cards[i].style.display = "flex"; 
                    found = true;
                } else {
                    cards[i].style.display = "none"; 
                }
            }
            
            let grid = document.getElementById('togaGrid');
            let existingMsg = document.getElementById('noResultMsg');
            
            if (!found) {
                if (!existingMsg) {
                    let msg = document.createElement('p');
                    msg.id = 'noResultMsg';
                    msg.innerHTML = "Tanaman tidak ditemukan. Coba kata kunci lain.";
                    msg.style.cssText = "color: white; text-align: center; grid-column: 1/-1; padding: 20px; background: rgba(0,0,0,0.3); border-radius: 10px;";
                    grid.appendChild(msg);
                }
            } else {
                if (existingMsg) existingMsg.remove();
            }
        }
    </script>
</body>
</html>
